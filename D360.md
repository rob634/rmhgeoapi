# Data360 Geospatial Requirements - Endpoint Mapping Reference

## Short-Term Requirements

### 1. Vector Data Display

- **1.1 Display vector data**: Serve vector features (point, line, polygon) from ingested shapefiles, GeoJSON, GeoPackage, GeoParquet sources
- **1.2 Dynamic scaling on zoom**: Serve vector data with level-of-detail support for region/global scale granular datasets
- **1.3 Pre-defined zoom points**: Provide bounding box / extent metadata for countries and regions
- **1.4 Data format ingestion**: Ingest and transform shapefile, GeoJSON, GeoPackage, GeoParquet into servable formats
- **1.5 Geometry type support**: Serve point, line, and polygon data including non-admin-area polygons
- **1.6 Symbology / styling**: Provide attribute metadata and service-defined visualization characteristics (size, shape, color, color maps)
- **1.7 Time-series visualization**: Serve time-dimensioned vector data with temporal attributes for animation
- **1.8 Equal-Earth projection**: Serve data in or support reprojection to Equal-Earth projection
- **1.9 Legend information**: Provide legend metadata (classes, color maps, value ranges) per layer
- **1.10 Map grid support**: Serve data filterable by region for small-multiple map rendering

### 2. Click / Highlight Interaction

- **2.1 Feature selection & statistics (vector)**: Return feature attributes and summary statistics on spatial query (click/select)
- **2.2 Raster statistics on selection**: Compute and return zonal statistics for a selected area on raster layers
- **2.3 Boundary highlight on filter**: Return geometry for a selected boundary/polygon for highlight rendering
- **2.4 Hierarchical navigation**: Provide hierarchical boundary relationships (Admin2 → Admin1 → Admin0) via API
- **2.5 Popup attributes**: Return defined attribute values for a selected feature (predefined or admin-metadata-defined)
- **2.6 Extent retrieval**: Return bounding box / extent for a selected feature to support zoom-to-fit

### 3. Raster Data Display

- **3.1 Raster tile serving**: Serve raster data as map tiles with support for multiple raster layers
- **3.2 Raster dynamic zoom**: Serve raster tiles with level-of-detail / overview support
- **3.3 Raster symbology**: Apply and serve color maps / symbology per raster layer with customization support
- **3.4 Raster time-series**: Serve time-dimensioned raster data for animation
- **3.5 Raster legend**: Provide legend metadata (color map, value ranges, classes) for raster layers
- **3.6 Raster map grid**: Serve raster data filterable by region for small-multiple rendering

### 4. Map Export

- **4.1 Export support**: Provide data in formats that support client-side PNG/JPEG/SVG map export (no server-side rendering required, but tile/data endpoints must be accessible for capture)

### 5. Public vs Official-Use Data

- **5.1 Access control**: Enforce data classification (public vs official-use) at the API layer
- **5.2 Performance at scale**: Serve tiles and data via CDN-compatible endpoints for external-facing performance

## Long-Term Requirements

### 6. Multiple Boundary Sets

- **6.1 Boundary switching/overlay**: Serve multiple boundary sets (Admin1, Admin2, EEZ, custom) as selectable layers
- **6.2 Boundary versioning**: Support versioned boundary services with linkable version identifiers
- **6.3 Boundary-data mapping**: Identify and report unmappable data for a given boundary set during pre-processing
- **6.4 Named area matching**: Map named areas in source data to World Bank boundary geometries where possible

### 7. Multi-Layer Data Exploration

- **7.1 Multi-layer serving**: Serve multiple indicators/layers simultaneously (vector + raster combinations)
- **7.2 Layer catalog / navigation**: Provide a browsable catalog of available layers with metadata
- **7.3 Layer symbology customization**: Support user-selectable symbology presets and binning/scale modification
- **7.4 Custom polygon zonal stats**: Accept user-defined polygons (uploaded or drawn) and return zonal statistics for gridded data

### 8. Tabular Data to Boundary Linkage

- **8.1 Geographic key mapping**: Link tabular indicator data to boundary geometries via unique geographic keys (boundary ID, code, name)
- **8.2 Choropleth rendering support**: Serve joined tabular + boundary data for symbology-driven map rendering
- **8.3 Multi-dataset boundary switching**: Support switching datasets or boundary sets dynamically on the same map

### 9. Region Selection → Statistics

- **9.1 Region click query**: Return indicator values and metadata for a clicked/selected region
- **9.2 Dynamic stats panel**: Serve statistics that update per-selection without full page reload
- **9.3 Raster zonal stats by region**: Compute zonal statistics on raster grids for predefined or custom areas given lat/lng bounds